<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Key Encoder/Decoder</title>
    
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Load Inter font and custom styles -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f0f0f0;
        }
        ::-webkit-scrollbar-thumb {
            background: #6EE7B7;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #34D399;
        }
    </style>
</head>
<body class="min-h-screen p-4 flex flex-col items-center justify-start bg-gray-50">

    <div class="w-full max-w-4xl bg-white shadow-xl rounded-2xl p-6 lg:p-8">
        <!-- Back Button -->
        <a href="index.html" 
           class="inline-flex items-center text-sm text-emerald-600 hover:text-emerald-700 font-medium mb-4 transition-colors duration-200">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
            </svg>
            Back to Home
        </a>
        
        <h1 class="text-3xl font-extrabold text-gray-800 mb-2">API Key Encoder/Decoder</h1>
        <p class="text-gray-500 mb-6">Encode (Base64) or decode your API keys for use in config.js</p>
        
        <!-- Encode Section -->
        <div class="mb-8 p-6 bg-emerald-50 rounded-lg border border-emerald-200">
            <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                <svg class="w-6 h-6 mr-2 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                </svg>
                Encode API Key (Raw → Base64)
            </h2>
            <p class="text-sm text-gray-600 mb-4">Enter your raw API key to get the encoded version for config.js</p>
            
            <div class="space-y-4">
                <div>
                    <label for="raw-key" class="block text-sm font-medium text-gray-700 mb-2">Raw API Key</label>
                    <input type="text" id="raw-key" placeholder="Enter your raw API key here (e.g., AIzaSy...)" 
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-emerald-500 focus:border-emerald-500 transition duration-150 font-mono text-sm">
                </div>
                
                <button onclick="encodeKey()" 
                        class="w-full py-3 px-4 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200 flex items-center justify-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                    </svg>
                    Encode Key
                </button>
                
                <div id="encoded-result-container" class="hidden">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Encoded API Key</label>
                    <div class="flex gap-2">
                        <input type="text" id="encoded-result" readonly
                               class="flex-1 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 font-mono text-sm">
                        <button onclick="copyEncoded()" 
                                class="px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors duration-200 flex items-center">
                            <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                            </svg>
                            Copy
                        </button>
                    </div>
                    <p class="text-xs text-gray-500 mt-2">Copy this encoded key and paste it in config.js</p>
                </div>
            </div>
        </div>

        <!-- Decode Section -->
        <div class="mb-8 p-6 bg-blue-50 rounded-lg border border-blue-200">
            <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                <svg class="w-6 h-6 mr-2 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                </svg>
                Decode API Key (Base64 → Raw)
            </h2>
            <p class="text-sm text-gray-600 mb-4">Enter an encoded API key to see the raw version (for verification)</p>
            
            <div class="space-y-4">
                <div>
                    <label for="encoded-key" class="block text-sm font-medium text-gray-700 mb-2">Encoded API Key</label>
                    <input type="text" id="encoded-key" placeholder="Enter encoded API key here (e.g., QUl6YVN5...)" 
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 transition duration-150 font-mono text-sm">
                </div>
                
                <button onclick="decodeKey()" 
                        class="w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200 flex items-center justify-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                    </svg>
                    Decode Key
                </button>
                
                <div id="decoded-result-container" class="hidden">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Decoded API Key</label>
                    <div class="flex gap-2">
                        <input type="text" id="decoded-result" readonly
                               class="flex-1 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 font-mono text-sm">
                        <button onclick="copyDecoded()" 
                                class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center">
                            <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                            </svg>
                            Copy
                        </button>
                    </div>
                    <p class="text-xs text-gray-500 mt-2">This is the raw API key (use for verification only)</p>
                </div>
            </div>
        </div>

        <!-- Validate Section -->
        <div class="mb-8 p-6 bg-purple-50 rounded-lg border border-purple-200">
            <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                <svg class="w-6 h-6 mr-2 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                Validate API Key
            </h2>
            <p class="text-sm text-gray-600 mb-4">Test if your API key is valid by making a test API call</p>
            
            <div class="space-y-4">
                <div>
                    <label for="validate-key" class="block text-sm font-medium text-gray-700 mb-2">API Key (Raw or Encoded)</label>
                    <input type="text" id="validate-key" placeholder="Enter raw or encoded API key to validate" 
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 transition duration-150 font-mono text-sm">
                </div>
                
                <div class="flex gap-2">
                    <button onclick="validateKey('generative')" 
                            class="flex-1 py-3 px-4 bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Test Generative AI
                    </button>
                    <button onclick="validateKey('imagen')" 
                            class="flex-1 py-3 px-4 bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                        Test Imagen API
                    </button>
                </div>
                
                <div id="validation-result-container" class="hidden">
                    <div id="validation-result" class="p-4 rounded-lg border"></div>
                </div>
            </div>
        </div>

        <!-- Status Message -->
        <div id="status-message" class="hidden p-3 rounded-lg mb-4"></div>

        <!-- Instructions -->
        <div class="mt-8 p-6 bg-gray-50 rounded-lg border border-gray-200">
            <h3 class="text-lg font-semibold text-gray-800 mb-3">How to Use</h3>
            <ol class="list-decimal list-inside space-y-2 text-sm text-gray-600">
                <li><strong>To encode:</strong> Enter your raw API key in the "Encode" section and click "Encode Key"</li>
                <li><strong>Copy the encoded key</strong> and paste it in <code class="bg-gray-200 px-1 rounded">config.js</code> file</li>
                <li><strong>To verify:</strong> Use the "Decode" section to check if your encoded key is correct</li>
                <li><strong>Security note:</strong> Never share your raw API key. The encoded version provides basic obfuscation only.</li>
            </ol>
        </div>
    </div>

    <script>
        /**
         * Encodes a raw API key to Base64
         */
        function encodeKey() {
            const rawKey = document.getElementById('raw-key').value.trim();
            const resultContainer = document.getElementById('encoded-result-container');
            const statusMessage = document.getElementById('status-message');
            
            if (!rawKey) {
                showStatus('Please enter a raw API key to encode.', true);
                return;
            }
            
            try {
                const encoded = btoa(rawKey);
                document.getElementById('encoded-result').value = encoded;
                resultContainer.classList.remove('hidden');
                showStatus('API key encoded successfully!', false);
            } catch (error) {
                showStatus('Error encoding API key: ' + error.message, true);
            }
        }

        /**
         * Decodes a Base64 encoded API key
         */
        function decodeKey() {
            const encodedKey = document.getElementById('encoded-key').value.trim();
            const resultContainer = document.getElementById('decoded-result-container');
            const statusMessage = document.getElementById('status-message');
            
            if (!encodedKey) {
                showStatus('Please enter an encoded API key to decode.', true);
                return;
            }
            
            try {
                const decoded = atob(encodedKey);
                document.getElementById('decoded-result').value = decoded;
                resultContainer.classList.remove('hidden');
                showStatus('API key decoded successfully!', false);
            } catch (error) {
                showStatus('Error decoding API key. Please check if the encoded key is valid Base64.', true);
            }
        }

        /**
         * Copies encoded key to clipboard
         */
        function copyEncoded() {
            const encodedResult = document.getElementById('encoded-result');
            encodedResult.select();
            encodedResult.setSelectionRange(0, 99999); // For mobile devices
            
            try {
                navigator.clipboard.writeText(encodedResult.value);
                showStatus('Encoded key copied to clipboard!', false);
            } catch (error) {
                // Fallback for older browsers
                document.execCommand('copy');
                showStatus('Encoded key copied to clipboard!', false);
            }
        }

        /**
         * Copies decoded key to clipboard
         */
        function copyDecoded() {
            const decodedResult = document.getElementById('decoded-result');
            decodedResult.select();
            decodedResult.setSelectionRange(0, 99999); // For mobile devices
            
            try {
                navigator.clipboard.writeText(decodedResult.value);
                showStatus('Decoded key copied to clipboard!', false);
            } catch (error) {
                // Fallback for older browsers
                document.execCommand('copy');
                showStatus('Decoded key copied to clipboard!', false);
            }
        }

        /**
         * Validates an API key by making a test API call
         */
        async function validateKey(apiType) {
            const inputKey = document.getElementById('validate-key').value.trim();
            const resultContainer = document.getElementById('validation-result-container');
            const resultDiv = document.getElementById('validation-result');
            
            if (!inputKey) {
                showStatus('Please enter an API key to validate.', true);
                return;
            }
            
            // Determine if input is encoded or raw
            let apiKey;
            try {
                // Try to decode (if it's encoded)
                apiKey = atob(inputKey);
                // If decoding works, it was encoded
            } catch (e) {
                // If decoding fails, assume it's raw
                apiKey = inputKey;
            }
            
            // Show loading state
            resultContainer.classList.remove('hidden');
            resultDiv.innerHTML = `
                <div class="flex items-center">
                    <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600 mr-3"></div>
                    <span class="text-gray-700">Validating API key...</span>
                </div>
            `;
            resultDiv.className = 'p-4 rounded-lg border border-gray-300 bg-gray-50';
            
            try {
                let isValid = false;
                let errorMessage = '';
                let apiName = '';
                
                if (apiType === 'generative') {
                    // Test Generative AI API (Gemini)
                    apiName = 'Generative AI (Gemini)';
                    isValid = await testGenerativeAI(apiKey);
                } else if (apiType === 'imagen') {
                    // Test Imagen API
                    apiName = 'Imagen API';
                    isValid = await testImagenAPI(apiKey);
                }
                
                if (isValid) {
                    resultDiv.innerHTML = `
                        <div class="flex items-start">
                            <svg class="w-6 h-6 text-green-600 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <div>
                                <p class="font-semibold text-green-800">✓ API Key is Valid!</p>
                                <p class="text-sm text-green-700 mt-1">Your ${apiName} key is working correctly.</p>
                            </div>
                        </div>
                    `;
                    resultDiv.className = 'p-4 rounded-lg border border-green-300 bg-green-50';
                    showStatus(`${apiName} API key is valid!`, false);
                } else {
                    resultDiv.innerHTML = `
                        <div class="flex items-start">
                            <svg class="w-6 h-6 text-red-600 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <div>
                                <p class="font-semibold text-red-800">✗ API Key is Invalid</p>
                                <p class="text-sm text-red-700 mt-1">${errorMessage || 'The API key could not be validated. Please check your key and try again.'}</p>
                            </div>
                        </div>
                    `;
                    resultDiv.className = 'p-4 rounded-lg border border-red-300 bg-red-50';
                    showStatus(`${apiName} API key validation failed.`, true);
                }
            } catch (error) {
                resultDiv.innerHTML = `
                    <div class="flex items-start">
                        <svg class="w-6 h-6 text-red-600 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <div>
                            <p class="font-semibold text-red-800">✗ Validation Error</p>
                            <p class="text-sm text-red-700 mt-1">${error.message}</p>
                        </div>
                    </div>
                `;
                resultDiv.className = 'p-4 rounded-lg border border-red-300 bg-red-50';
                showStatus('Error validating API key: ' + error.message, true);
            }
        }

        /**
         * Tests Generative AI API (Gemini)
         */
        async function testGenerativeAI(apiKey) {
            try {
                // Try v1beta first (most common)
                let response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${apiKey}`);
                let data = await response.json();
                
                // If v1beta fails, try v1
                if (!response.ok && (response.status === 404 || response.status === 400)) {
                    response = await fetch(`https://generativelanguage.googleapis.com/v1/models?key=${apiKey}`);
                    data = await response.json();
                }
                
                if (!response.ok) {
                    // Check for specific error types
                    const errorMsg = data.error?.message || data.message || `HTTP ${response.status}`;
                    
                    if (response.status === 401 || response.status === 403) {
                        throw new Error('Invalid API key or insufficient permissions');
                    }
                    
                    throw new Error(errorMsg);
                }
                
                // If we get models back, the key is valid
                if (data.models && data.models.length > 0) {
                    return true;
                }
                
                // If no models but response is OK, key might still be valid (just no models available)
                // Try a simple generateContent call instead
                return await testGenerativeAIWithGenerate(apiKey);
            } catch (error) {
                // If listing models fails, try a simple generateContent call as fallback
                try {
                    return await testGenerativeAIWithGenerate(apiKey);
                } catch (fallbackError) {
                    throw error; // Throw original error
                }
            }
        }

        /**
         * Tests Generative AI API by making a simple generateContent call
         */
        async function testGenerativeAIWithGenerate(apiKey) {
            try {
                // Try with gemini-1.5-flash (most commonly available)
                const payload = {
                    contents: [{
                        parts: [{
                            text: "test"
                        }]
                    }],
                    generationConfig: {
                        maxOutputTokens: 10
                    }
                };
                
                let response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                let data = await response.json();
                
                // If gemini-1.5-flash fails, try gemini-pro
                if (!response.ok && (response.status === 404 || data.error?.message?.includes('not found'))) {
                    response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${apiKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    data = await response.json();
                }
                
                if (!response.ok) {
                    const errorMsg = data.error?.message || data.message || `HTTP ${response.status}`;
                    
                    if (response.status === 401 || response.status === 403) {
                        throw new Error('Invalid API key or insufficient permissions');
                    }
                    
                    throw new Error(errorMsg);
                }
                
                // If we get a response (even if it's an error about the prompt), the key is valid
                return true;
            } catch (error) {
                throw error;
            }
        }

        /**
         * Tests Imagen API
         */
        async function testImagenAPI(apiKey) {
            try {
                // Try to access the Imagen API endpoint
                // We'll use a minimal request to test if the key is valid
                const payload = {
                    instances: [{
                        prompt: "a simple test image"
                    }],
                    parameters: {
                        sampleCount: 1,
                        aspectRatio: "1:1"
                    }
                };
                
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/imagen-3.0-generate-001:predict?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                const data = await response.json();
                
                // Check for authentication errors
                if (response.status === 401) {
                    throw new Error('Invalid API key - Authentication failed');
                }
                if (response.status === 403) {
                    throw new Error('API key does not have permission to access Imagen API');
                }
                
                // If we get past auth errors, the key is valid
                // Even if the request fails for other reasons (like billing), the key itself is valid
                if (response.ok) {
                    return true;
                } else {
                    // Key is valid but might have other issues (billing, quota, etc.)
                    // Still consider it valid since the key itself works
                    const errorMsg = data.error?.message || 'Unknown error';
                    if (errorMsg.includes('billing') || errorMsg.includes('quota') || errorMsg.includes('billed')) {
                        return true; // Key is valid, just needs billing setup
                    }
                    return true; // Key is valid, other error
                }
            } catch (error) {
                // Network errors or parsing errors
                if (error.message.includes('401') || error.message.includes('403') || error.message.includes('Invalid') || error.message.includes('Authentication')) {
                    throw error;
                }
                // For other errors, we can't determine validity, so throw
                throw new Error('Could not validate API key: ' + error.message);
            }
        }

        /**
         * Shows status message
         */
        function showStatus(message, isError = false) {
            const statusMessage = document.getElementById('status-message');
            statusMessage.textContent = message;
            statusMessage.className = isError 
                ? 'p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg mb-4' 
                : 'p-3 bg-green-50 border border-green-200 text-green-800 rounded-lg mb-4';
            statusMessage.classList.remove('hidden');
            
            // Auto-hide after 5 seconds for validation messages
            setTimeout(() => {
                statusMessage.classList.add('hidden');
            }, 5000);
        }

        // Allow Enter key to trigger encode/decode
        document.getElementById('raw-key').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                encodeKey();
            }
        });

        document.getElementById('encoded-key').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                decodeKey();
            }
        });

        document.getElementById('validate-key').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                validateKey('generative');
            }
        });
    </script>
</body>
</html>

